(this.webpackJsonpreact2048=this.webpackJsonpreact2048||[]).push([[0],{11:function(t,e,n){t.exports={button:"Button_button__26hOZ",buttonUp:"Button_buttonUp__1gMFS",buttonRight:"Button_buttonRight__3Rr-J",buttonDown:"Button_buttonDown__1XgOX",buttonLeft:"Button_buttonLeft__2TLDC"}},13:function(t,e,n){t.exports={tileRow:"TileRow_tileRow__1054p"}},18:function(t,e,n){},2:function(t,e,n){t.exports={app:"App_app__1LfN0",appHeader:"App_appHeader__2wloO",appHeader_content:"App_appHeader_content__hrZOd",appHeader_title:"App_appHeader_title__1uQM4",appHeader_subtitle:"App_appHeader_subtitle__1jz9z",appGame:"App_appGame__tCwYh"}},24:function(t,e,n){"use strict";n.r(e);var a,r,i,c=n(0),o=n(6),s=n.n(o),u=(n(18),n(2)),l=n.n(u),d=n(3),p=n.n(d),_=n(4),f=n(11),b=n.n(f);!function(t){t[t.CREATE_TILE=0]="CREATE_TILE",t[t.UPDATE_TILES=1]="UPDATE_TILES",t[t.RESTART_GAME=2]="RESTART_GAME"}(a||(a={})),function(t){t[t.START=0]="START",t[t.ONGOING=1]="ONGOING",t[t.GAMEOVER=2]="GAMEOVER",t[t.GAMEWINNER=3]="GAMEWINNER"}(r||(r={})),function(t){t.UP="up",t.DOWN="down",t.LEFT="left",t.RIGHT="right"}(i||(i={}));var j={gameState:r.START,tiles:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},m={up:"buttonUp",down:"buttonDown",left:"buttonLeft",right:"buttonRight"},O=function(t,e){return function(t,e){var n=[];switch(t){case i.RIGHT:n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];break;case i.LEFT:n=[3,2,1,0,7,6,5,4,11,10,9,8,15,14,13,12];break;case i.DOWN:n=[0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15];break;case i.UP:n=[3,7,11,15,2,6,10,14,1,5,9,13,0,4,8,12]}var a=[];e.forEach((function(t){a=a.concat(t)}));var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return r.map((function(t,e){return a[n[e]]}))}(t,function(t,e){var n=[];switch(t){case i.RIGHT:n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];break;case i.LEFT:n=[3,2,1,0,7,6,5,4,11,10,9,8,15,14,13,12];break;case i.DOWN:n=[0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15];break;case i.UP:n=[12,8,4,0,13,9,5,1,14,10,6,2,15,11,7,3]}var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return[(a=a.map((function(t,a){return e[n[a]]}))).slice(0,4),a.slice(4,8),a.slice(8,12),a.slice(12,16)]}(t,e).map((function(t){return function(t){for(var e=t.filter((function(t){return t>0})),n=e.length;n>1;n--)e[n-1]==e[n-2]&&(e[n-1]=2*e[n-1],e[n-2]=0);for(e=e.filter((function(t){return t>0}));e.length<4;)e.unshift(0);return e}(t)})))},E=n(1),h=function(t){return"".concat(b.a.button," ").concat(b.a[m[t]])},T=function(t,e,n){var a,i=O(t,e),c=r.ONGOING;if(function(t){return t.indexOf(2048)>0}(i)&&(c=r.GAMEWINNER),function(t,e){if(t.length!=e.length)return!1;var n=!0;for(var a in t)t[a]!=e[a]&&(n=!1);return n}(e,i)){if(!function(t){return t.indexOf(0)<0}(i))return;c=r.GAMEOVER}else{var o=function(t){var e=[];return t.forEach((function(t,n){0==t&&e.push(n)})),e}(i);i[(a=o)[Math.floor(Math.random()*a.length)]]=2}n(i,c)},v=Object(_.b)((function(t,e){return{direction:e.direction,tiles:t.appReducer.tiles}}),(function(t){return{updateTiles:function(e,n){t(function(t,e){return{type:a.UPDATE_TILES,payload:{tiles:t,gameState:e}}}(e,n))}}}))((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{direction:i.UP,tiles:[],updateTiles:{}},e=t.direction,n=t.tiles,a=t.updateTiles;return Object(E.jsx)("button",{"data-testid":"button",className:h(e),style:{backgroundImage:'url("'.concat("/react2048",'/bluetriangle-up.svg")')},onClick:function(){return T(e,n,a)}})})),g=n(13),R=n.n(g),x=n(7),G=n.n(x),N=function(t){return t?G.a.tileFilled:G.a.tileEmpty},A=function(t){var e=t.tileValue,n=void 0===e?0:e;return Object(E.jsx)("div",{"data-testid":"tile",className:"".concat(G.a.tile," ").concat(N(n)),children:Object(E.jsx)("div",{children:n||""})})},I=function(t){var e=t.tiles;return Object(E.jsx)("div",{"data-testid":"tile-row",className:R.a.tileRow,children:e.map((function(t,e){return Object(E.jsx)(A,{tileValue:t},e)}))})},S=function(t){for(var e=[],n=0;n<4;n++){var a=t.slice(4*n,4*n+4);e.push(a)}var r=e.map((function(t,e){return Object(E.jsx)(I,{tiles:t},e)}));return Object(E.jsx)("div",{"data-testid":"game-board",className:p.a.gameBoard,children:r})},L=Object(_.b)((function(t){return{tiles:t.appReducer.tiles,gameState:t.appReducer.gameState}}),(function(t){return{createInitialTile:function(){var e,n=Math.floor(16*Math.random());t((e={index:n,value:2},{type:a.CREATE_TILE,payload:e}))},restartGame:function(){t({type:a.RESTART_GAME,payload:j})}}}))((function(t){var e=t.tiles,n=t.gameState,a=t.createInitialTile,o=t.restartGame;return Object(c.useEffect)((function(){n==r.GAMEWINNER?(alert("Congratulations! You won!"),o()):n==r.GAMEOVER?(alert("Game Over"),o()):n==r.START&&a()}),[n]),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{"data-testid":"game",className:p.a.game,children:[S(e),Object(E.jsxs)("div",{"data-testid":"controls",className:p.a.controls,children:[Object(E.jsx)("div",{className:p.a.controls1,children:Object(E.jsx)(v,{direction:i.LEFT})}),Object(E.jsxs)("div",{className:p.a.controls2,children:[Object(E.jsx)(v,{direction:i.UP}),Object(E.jsx)(v,{direction:i.DOWN})]}),Object(E.jsx)("div",{className:p.a.controls3,children:Object(E.jsx)(v,{direction:i.RIGHT})})]})]})})}));var w=function(){return Object(E.jsxs)("div",{className:l.a.app,children:[Object(E.jsx)("header",{className:l.a.appHeader,children:Object(E.jsxs)("div",{className:l.a.appHeader_content,children:[Object(E.jsx)("div",{className:l.a.appHeader_title,children:"2048"}),Object(E.jsx)("div",{className:l.a.appHeader_subtitle,children:"A React implementation of the game"})]})}),Object(E.jsx)("section",{className:l.a.appGame,children:Object(E.jsx)(L,{})})]})},M=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),i(t),c(t)}))},y=n(12),H=n(5),D={appReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0,n=e.type,i=e.payload;switch(n){case a.CREATE_TILE:var c=t.tiles.map((function(t,e){return e!==i.index?t:i.value}));return Object(H.a)(Object(H.a)({},t),{},{tiles:c,gameState:r.ONGOING});case a.UPDATE_TILES:return Object(H.a)(Object(H.a)({},t),{},{tiles:i.tiles,gameState:i.gameState});case a.RESTART_GAME:return e.payload;default:return t}}},F=Object(y.a)(D);s.a.render(Object(E.jsx)(_.a,{store:Object(y.b)(F),children:Object(E.jsx)(w,{})}),document.getElementById("root")),M()},3:function(t,e,n){t.exports={game:"Game_game__2S5Oi",gameBoard:"Game_gameBoard__3PJ4q",controls:"Game_controls__1yyqx",controls1:"Game_controls1__3JQ_T",controls3:"Game_controls3__3f3Bq"}},7:function(t,e,n){t.exports={tile:"Tile_tile__1IGhI",tileEmpty:"Tile_tileEmpty__2vi-3",tileFilled:"Tile_tileFilled__Qn41-"}}},[[24,1,2]]]);
//# sourceMappingURL=main.5b2b3d7c.chunk.js.map